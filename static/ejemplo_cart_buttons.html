<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejemplo de Botones del Carrito</title>
    <script src="/static/tailwind.js"></script>
    <script src="/static/ecomerce/cart_button.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f8f9fa;
            padding: 20px;
        }
        .product-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .cart-btn {
            background: #00bfff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            transition: background 0.3s;
        }
        .cart-btn:hover {
            background: #0099cc;
        }
        .cart-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <h1 class="text-2xl font-bold mb-6">Ejemplo de Botones del Carrito</h1>

    <div class="product-card">
        <h2 class="text-xl font-semibold mb-4">Producto de Ejemplo 1</h2>
        <p class="mb-4">Este es un producto de ejemplo para probar los botones del carrito.</p>
        <div class="flex items-center space-x-4">
            <span class="text-lg font-bold">$29.99</span>
            <button class="cart-btn" onclick="addToCart('prod1', 'Producto 1', 29.99)">
                <i class="fas fa-cart-plus"></i> Agregar al Carrito
            </button>
        </div>
    </div>

    <div class="product-card">
        <h2 class="text-xl font-semibold mb-4">Producto de Ejemplo 2</h2>
        <p class="mb-4">Otro producto para probar la funcionalidad del carrito.</p>
        <div class="flex items-center space-x-4">
            <span class="text-lg font-bold">$49.99</span>
            <button class="cart-btn" onclick="addToCart('prod2', 'Producto 2', 49.99)">
                <i class="fas fa-cart-plus"></i> Agregar al Carrito
            </button>
        </div>
    </div>

    <div class="product-card">
        <h2 class="text-xl font-semibold mb-4">Controles del Carrito</h2>
        <div class="space-x-2">
            <button class="cart-btn" onclick="viewCart()">
                <i class="fas fa-shopping-cart"></i> Ver Carrito
            </button>
            <button class="cart-btn" onclick="clearCart()">
                <i class="fas fa-trash"></i> Vaciar Carrito
            </button>
        </div>
    </div>

    <div class="product-card">
        <h2 class="text-xl font-semibold mb-4">Estado del Carrito</h2>
        <div id="cart-status">
            <p>Cargando estado del carrito...</p>
        </div>
    </div>

    <script>
        // Mock functions for cart operations
        function addToCart(productId, name, price) {
            console.log(`Agregando ${name} al carrito`);
            alert(`Producto "${name}" agregado al carrito por $${price}`);

            // Update cart status
            updateCartStatus();
        }

        function viewCart() {
            window.location.href = '/ecomerce/carrito';
        }

        function clearCart() {
            if (confirm('¿Estás seguro de que quieres vaciar el carrito?')) {
                alert('Carrito vaciado');
                updateCartStatus();
            }
        }

        function updateCartStatus() {
            // This would normally get cart data from the API
            const statusDiv = document.getElementById('cart-status');
            statusDiv.innerHTML = `
                <p><strong>Items en carrito:</strong> 2</p>
                <p><strong>Total:</strong> $79.98</p>
                <p><small>Última actualización: ${new Date().toLocaleTimeString()}</small></p>
            `;
        }

        // Initialize cart status on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateCartStatus();
        });
    </script>
</body>
</html>